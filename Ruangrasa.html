<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ruang Rasa Foods</title>
  <style>
    body{font-family:Arial,sans-serif;margin:0;background:#fff7e6;color:#333}
    header{background:#f4a300;color:#fff;padding:20px;text-align:center}
    section{padding:30px}
    h2{border-bottom:2px solid #f4a300;padding-bottom:10px}.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}
.menu-item{background:#fff;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.1);padding:15px;display:flex;flex-direction:column;justify-content:space-between;text-align:center}
.menu-item h3{margin:5px 0}
.price{font-weight:bold;margin:5px 0}

.qty-control{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:10px}
.btn{width:32px;height:32px;border:none;border-radius:50%;font-size:18px;font-weight:bold;cursor:pointer}
.btn.plus{background:#f4a300;color:#fff}
.btn.minus{background:#ccc;color:#666}
.btn.minus:disabled{opacity:.5;cursor:not-allowed}
.qty{min-width:20px;font-weight:bold}

footer{background:#333;color:#fff;text-align:center;padding:15px;margin-top:40px}

.cart{position:fixed;right:20px;bottom:90px;width:320px;max-height:60vh;background:#fff;border:2px solid #25D366;border-radius:16px;padding:15px;box-shadow:0 4px 12px rgba(0,0,0,.15);overflow:hidden;display:none;opacity:0;transform:translateY(10px);transition:all .25s ease}

.cart.open{display:block;opacity:1;transform:translateY(0)} .cart.open{display:block;opacity:1;transform:translateY(0)} .cart ul{list-style:none;padding:0;max-height:200px;overflow:auto} .cart li{display:flex;justify-content:space-between;font-size:14px;margin-bottom:6px} .cart-toggle{position:fixed;right:20px;bottom:20px;background:#25D366;color:#fff;border:none;border-radius:50%;width:56px;height:56px;font-size:22px;cursor:pointer}

.order-btn{background:#25D366;color:#fff;border:none;border-radius:6px;padding:10px 15px;text-decoration:none;cursor:pointer}

  </style>
</head>
<body><header>
  <h1>Ruang Rasa Foods</h1>
  <p>Open PO â€“ Makanan & Minuman</p>
</header><section>
<h2>Menu Makanan</h2>
<div class="menu-grid">
<div class="menu-item"><h3>Baso Aci Keju</h3><p class="price">Rp 8.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Baso Aci Jumbo Ayam Suir</h3><p class="price">Rp 8.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Dimsum Mager Mentai</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Cheese Roll</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Risol Ubi Keju / Coklat</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Dimsum Goreng Keju</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
</div><h2>Menu Minuman</h2>
<h3>Milkdrink Series</h3>
<div class="menu-grid">
<div class="menu-item"><h3>Taro</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Red Velvet</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Capuccino</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Almond</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Piscok</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Milo</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Avocado</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Matcha</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Tiramisu</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
</div><h3>Tea Series</h3>
<div class="menu-grid">
<div class="menu-item"><h3>Original Tea</h3><p class="price">Rp 4.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Peach Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Lemon Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Leci Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Apple Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Lemonade</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Blackcurrant Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Milk Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Teh Tarik</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Thai Tea</h3><p class="price">Rp 5.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
</div><h3>Coffee Series</h3>
<div class="menu-grid">
<div class="menu-item"><h3>Creamy Coffee</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Milk Coffee</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Mochaccino</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Vanilla Latte</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
<div class="menu-item"><h3>Espresso</h3><p class="price">Rp 10.000</p><div class="qty-control"><button class="btn minus" onclick="removeFromCart(this)" disabled>-</button><span class="qty">0</span><button class="btn plus" onclick="addToCart(this)">+</button></div></div>
</div>
</section><footer>
  <p>Order: 0838-3737-5451 | Jl. Kenanga Bancang, Kecipir, Losari, Brebes</p>
</footer><button class="cart-toggle" onclick="toggleCart()"><span id="cartCount" style="position:absolute;top:-4px;right:-4px;background:red;color:#fff;border-radius:50%;font-size:12px;width:20px;height:20px;display:none;align-items:center;justify-content:center">0</span>ðŸ›’</button>

<div class="cart" id="cart">
  <h3>Keranjang</h3>
  <ul id="cartItems"></ul>
  <textarea id="note" placeholder="Catatan pesanan" style="width:100%"></textarea>
  <p><strong>Total: Rp <span id="total">0</span></strong></p>
  <a id="waOrder" class="order-btn" target="_blank">Order via WhatsApp</a>
</div><script>
// ===== CART LOGIC FIXED & STABLE =====
let cart = JSON.parse(localStorage.getItem('cart')) || [];

function toggleCart(){
  document.getElementById('cart').classList.toggle('open');
}

function saveCart(){
  localStorage.setItem('cart', JSON.stringify(cart));
}

function addToCart(btn){
  const item = btn.closest('.menu-item');
  const name = item.querySelector('h3').innerText;
  const price = parseInt(item.querySelector('.price').innerText.replace(/[^0-9]/g,''));
  const qtyEl = item.querySelector('.qty');
  const minus = item.querySelector('.minus');

  let found = cart.find(i=>i.name===name);
  if(found){found.qty++;} else {cart.push({name,price,qty:1});}

  qtyEl.innerText = parseInt(qtyEl.innerText)+1;
  minus.disabled = false;
  saveCart();
  renderCart();
}

function removeFromCart(btn){
  const item = btn.closest('.menu-item');
  const name = item.querySelector('h3').innerText;
  const qtyEl = item.querySelector('.qty');
  const minus = item.querySelector('.minus');

  let found = cart.find(i=>i.name===name);
  if(!found) return;

  found.qty--;
  qtyEl.innerText = Math.max(0, parseInt(qtyEl.innerText)-1);

  if(found.qty<=0){
    cart = cart.filter(i=>i.name!==name);
    qtyEl.innerText = 0;
    minus.disabled = true;
  }

  saveCart();
  renderCart();
}

function updateCartQty(name,delta){
  const found = cart.find(i=>i.name===name);
  if(!found) return;

  found.qty += delta;
  if(found.qty<=0){cart = cart.filter(i=>i.name!==name);}

  document.querySelectorAll('.menu-item').forEach(m=>{
    if(m.querySelector('h3').innerText===name){
      const q = m.querySelector('.qty');
      const minus = m.querySelector('.minus');
      q.innerText = found ? found.qty : 0;
      minus.disabled = q.innerText==0;
    }
  });

  saveCart();
  renderCart();
}

function renderCart(){
  const list = document.getElementById('cartItems');
  const totalEl = document.getElementById('total');
  const badge = document.getElementById('cartCount');
  list.innerHTML='';

  let total=0, count=0;
  let msg = 'Saya ingin order:%0A';

  cart.forEach((i,n)=>{
    total += i.qty*i.price;
    count += i.qty;
    msg += `${n+1}. ${i.name} x${i.qty} - Rp ${i.qty*i.price}%0A`;

    const li=document.createElement('li');
    li.innerHTML=`<span>${i.name}</span>
    <div class='cart-qty'>
      <button class='btn minus' onclick="updateCartQty('${i.name}',-1)">-</button>
      <span>${i.qty}</span>
      <button class='btn plus' onclick="updateCartQty('${i.name}',1)">+</button>
    </div>`;
    list.appendChild(li);
  });

  totalEl.innerText = total;
  badge.style.display = count>0 ? 'flex' : 'none';
  badge.innerText = count;

  const wa = document.getElementById('waOrder');
  wa.href = cart.length ? `https://wa.me/6283837375451?text=${msg}Total: Rp ${total}` : '#';
  wa.onclick = ()=>{resetCart();document.getElementById('cart').classList.remove('open')};
}

function resetCart(){
  cart=[];
  localStorage.removeItem('cart');
  document.querySelectorAll('.qty').forEach(q=>q.innerText=0);
  document.querySelectorAll('.minus').forEach(b=>b.disabled=true);
  renderCart();
}

renderCart();
</script></body>
</html>